<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage User Roles</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #dc3545; border-bottom: 2px solid #dc3545; padding-bottom: 10px; }
        .user-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .user-table th, .user-table td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        .user-table th { background: #dc3545; color: white; }
        .nav-links { margin-bottom: 20px; }
        .nav-links a { color: #007cba; text-decoration: none; margin-right: 15px; }
        .nav-links a:hover { text-decoration: underline; }
        select, button { padding: 8px 12px; margin: 5px; border-radius: 4px; }
        button { background: #28a745; color: white; border: none; cursor: pointer; }
        button:hover { background: #218838; }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-links">
            <a href="{% url 'relationship_app:admin_view' %}">‚Üê Back to Admin Dashboard</a>
            <a href="{% url 'relationship_app:logout' %}">üö™ Logout</a>
        </div>

        <h1>‚öôÔ∏è Manage User Roles</h1>
        
        {% if messages %}
        <div style="margin: 20px 0;">
            {% for message in messages %}
            <div class="alert {% if message.tags == 'success' %}alert-success{% else %}alert-danger{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <table class="user-table">
            <thead>
                <style>
                    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5; }
                    .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
                    h1 { color: #dc3545; border-bottom: 2px solid #dc3545; padding-bottom: 10px; }
                    .user-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                    .user-table th, .user-table td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
                    .user-table th { background: #dc3545; color: white; }
                    .nav-links { margin-bottom: 20px; }
                    .nav-links a { color: #007cba; text-decoration: none; margin-right: 15px; }
                    .nav-links a:hover { text-decoration: underline; }
                    select, button { padding: 8px 12px; margin: 5px; border-radius: 4px; }
                    button { background: #28a745; color: white; border: none; cursor: pointer; }
                    button:hover { background: #218838; }
                    .alert {
                        padding: 10px;
                        border-radius: 4px;
                        margin: 10px 0;
                    }
                    .alert-success {
                        background: #d4edda;
                        color: #155724;
                    }
                    .alert-danger {
                        background: #f8d7da;
                        color: #721c24;
                    }
                </style>
                            {% csrf_token %}
                            <input type="hidden" name="user_id" value="{{ user_profile.id }}">
                            <select name="role">
                                <option value="admin" {% if user_profile.role == 'admin' %}selected{% endif %}>Admin</option>
                                <option value="librarian" {% if user_profile.role == 'librarian' %}selected{% endif %}>Librarian</option>
                                <option value="member" {% if user_profile.role == 'member' %}selected{% endif %}>Member</option>
                            </select>
                    </td>
                    <td>
                            <button type="submit">Update Role</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>